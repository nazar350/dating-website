<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Dating - Edit Profile</title>
  <link rel="stylesheet" th:href="@{/css/editProfile-styles.css}">
</head>
<body>
<div class="logo">ðŸ’• Dating</div>
<div class="profile-container">
  <h2>Edit Your Profile</h2>
  <div th:if="${error}" th:text="${error}" class="error-message"></div>
  <form id="editProfileForm" th:action="@{/api/users/update}" method="post" th:object="${editProfileDTO}">
    <!-- Phone -->
    <label for="phone">Phone Number</label>
    <input type="tel" id="phone" name="phone" th:field="*{phone}" placeholder="Enter your phone number (e.g., +380123456789)">
    <span th:errors="*{phone}" class="error"></span>

    <!-- About Me -->
    <label for="about">About Me</label>
    <textarea id="about" name="about" rows="4" th:field="*{about}" placeholder="Tell us about yourself (max 500 characters)" maxlength="500"></textarea>
    <span th:errors="*{about}" class="error"></span>

    <!-- Interests -->
    <label>My Interests (select up to 5)</label>
    <input type="text" id="selected-interests" readonly placeholder="Your interests will appear here">
    <div class="interests-container">
      <button type="button" class="interest-button" data-interest="Sport">Sport</button>
      <button type="button" class="interest-button" data-interest="Books">Books</button>
      <button type="button" class="interest-button" data-interest="Shopping">Shopping</button>
      <button type="button" class="interest-button" data-interest="Video games">Video games</button>
      <button type="button" class="interest-button" data-interest="Cooking">Cooking</button>
      <button type="button" class="interest-button" data-interest="Walking">Walking</button>
      <button type="button" class="interest-button" data-interest="Parties">Parties</button>
      <button type="button" class="interest-button" data-interest="Tourism">Tourism</button>
      <button type="button" class="interest-button" data-interest="Philosophy">Philosophy</button>
      <button type="button" class="interest-button" data-interest="Art">Art</button>
      <button type="button" class="interest-button" data-interest="Music">Music</button>
      <button type="button" class="interest-button" data-interest="Movies">Movies</button>
      <button type="button" class="interest-button" data-interest="Anime">Anime</button>
    </div>
    <input type="hidden" id="interests" name="interests" th:field="*{interests}">
    <span th:errors="*{interests}" class="error"></span>

    <!-- Hidden userId -->
    <input type="hidden" name="userId" th:value="${session.userId}">

    <!-- Submit Button -->
    <button type="submit">SAVE CHANGES</button>
  </form>
  <a th:href="@{/myProfile}" class="back-link">Back to My Profile</a>
</div>
<script th:src="@{/js/editProfile.js}"></script>
</body>
</html>